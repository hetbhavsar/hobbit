<!DOCTYPE html>
<html>
<head>
    <title>hobbit demo</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0, maximum-scale=1.0,minimum-scale=1.0,user-scalable=no" />
    <link href="hobbit.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <div class="loading"></div>
    <div style="height:2000px;">
        通讯录<br />
        通讯录<br />
        <div id="div2" style="width:100%; height:30px; background-color:#ccc;line-height:30px;">aaaa</div>
        a111111<br />
        a222222<br />
        a333333<br />
        a444444<br />
        a555555<br />
        a666666<br />
        <div id="div1" style="width:100%; height:30px; background-color:#ccc;line-height:30px;">bbbb</div>
        b777777<br />
        b888888<br />
        b999999<br />
        b000000<br />
        baaaaaa<br />
        bbbbbbb<br />
        bcccccc<br />
        <div id="div" style="width:100%; height:30px; background-color:#ccc;line-height:30px;">ccc</div>
        edddddd<br />
        eeeeeee<br />
        effffff<br />
        egggggg<br />
        edsafds<br />
        edsafds<br />
        edsafds<br />
        edsafds<br />
        edsafds<br />
        <a href="javascript:showLoader()">showloader</a>
        <a href="javascript:$H.dialog.show()">showdialog</a>
        <a href="javascript:jsonP()">jsonP</a>
        <a href="javascript:geo()">geo</a>
        <a id="click">click</a>
        <div class="doc_demo">
            <label class="checkbox">
                <input type="checkbox" name="checkbox" id="cek1" />篮球
            </label>
            <label class="checkbox">
                <input type="checkbox" name="checkbox" id="cek2" />足球
            </label>
            <label class="checkbox">
                <input type="checkbox" disabled name="checkbox" id="cek3" />Disabled
            </label>
        </div>
    </div>
    <div class="dialog" id="dialog" style="display:none">
        <div class="content">
            test<br />
            test<br />
            test<br />
            test<br />
            test<br />
            test<br />
        </div>
        <div class="btns">
            <a>
                取消
            </a>
            <a onclick="confirm('hello')">
                确定
            </a>
        </div>
    </div>
    <script src="zepto.js" type="text/javascript"></script>
    <script src="hobbit.js" type="text/javascript"></script>
    <script src="hobbit.ui.js" type="text/javascript"></script>
    <script type="text/jscript">
        $(function () {
            //        $(window).bind("scroll", $H.throttle(500, function () {
            //            console.log("1");
            //        }));
            //        $(window).bind("scroll", function () {
            //            console.log("2");
            //        });

            //$H.getCss("hobbit.css");
            sessointest();

            $("#click").bind("click", function () {
                alert("1");
            });
            $("#click").bind("click", function () {
                alert("1");
            });


            var cek1 = new $H.ui.checkbox("#cek1");
            var cek2 = new $H.ui.checkbox("#cek2");
            var cek3 = new $H.ui.checkbox("#cek3");

            fixed("#div");
            fixed("#div1");
            fixed("#div2");
        });

        function jsonP() {
            $H.ajax({
                url: "http://hotel.elong.com/city/hotel1/10.html?keyword=1",
                dataType: "jsonp",
                timeout: 1,
                complete: function () {
                },
                success: function (data) {
                    alert(data);
                },
                error: function (req, status, err) {
                }
            });
        }

        function showLoader() {
            $H.loader.show({
                timeout: 6000,
                onclose: function (type) {
                    alert(type);
                }
            });

        }
        function fixed(id, top, bottom) {
            var height = $(id).offset().top;
            var style = $(id).attr("style");
            var className = $(id).attr("class");
            var tempDiv = $("<div>").attr({
                "style": style,
                "class": className
            }).css({ "opacity": "0" });
            tempDiv.insertAfter($(id));

            $(id).css({
                "position": "absolute",
                "top": height
            });

            $(window).bind("scroll touchmove", $H.throttle(100, changeStatus));

            function changeStatus() {
                if (height <= $(window).scrollTop()) {
                    tempDiv.insertAfter($(id));
                    $(id).css({
                        "position": "fixed",
                        "top": "0"
                    });
                }
                else {
                    //$(id).insertAfter(tempDiv);
                    tempDiv.remove();
                    $(id).removeAttr("style").removeAttr("class").attr({
                        "style": style,
                        "class": className
                    });
                }
            }
        }

        function geo() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(getPositionSuccess, getPositionError);
            } else {
                alert("您的浏览器不支持Geolocation!");
            }
        }
        function getPositionSuccess(position) {
            var lat = position.coords.latitude;
            var lng = position.coords.longitude;
            document.write("所在位置： 经度(" + lat + ")，纬度(" + lng + ")");
            if (typeof position.address !== "undefined") {
                var country = position.address.country;
                var province = position.address.region;
                var city = position.address.city;
                document.write("<br />");
                document.write("您位于" + country + province + city);
            }
        }
        function getPositionError(error) {
            switch (error.code) {
                case error.TIMEOUT:
                    alert("连接超时，请重试");
                    break;
                case error.PERMISSION_DENIED:
                    alert("您拒绝了使用位置共享服务，查询已取消");
                    break;
                case error.POSITION_UNAVAILABLE:
                    alert("亲爱的火星网友，非常抱歉，我们暂时无法为您所在的星球提供位置服务");
                    break;
            }
        }

        function sessointest() {
            var options = { key: "testkey", value: "asdf" };
            $H.session.set(options);
            alert("存入Key:" + options.key + ",value:" + $H.session.get(options.key));
            $H.session.remove(options.key);
            alert("清除Key:" + options.key + ",value:" + $H.session.get(options.key));
            $H.session.set(options);
            var options1 = { key: "testkey1", value: "asdf1" };
            $H.session.set(options1);
            alert("存入Key:" + options.key + ",value:" + $H.session.get(options.key) + "；存入Key1:" + options.key + ",value1:" + $H.session.get(options1.key));
            $H.session.clear();
            alert("清除全部：[Key:" + options.key + ",value:" + $H.session.get(options.key) + ";Key1:" + options.key + ",value1:" + $H.session.get(options1.key) + "]");
        }
        
    </script>
</body>
</html>
